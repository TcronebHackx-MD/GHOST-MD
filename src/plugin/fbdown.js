(function(_0x120d8b,_0x34da55){const _0x4def39=_0x285d,_0x5c2fb8=_0x120d8b();while(!![]){try{const _0x51b7a4=parseInt(_0x4def39(0x15b))/0x1+parseInt(_0x4def39(0x14e))/0x2*(parseInt(_0x4def39(0x18c))/0x3)+parseInt(_0x4def39(0x166))/0x4*(-parseInt(_0x4def39(0x172))/0x5)+-parseInt(_0x4def39(0x180))/0x6*(-parseInt(_0x4def39(0x16c))/0x7)+-parseInt(_0x4def39(0x174))/0x8*(parseInt(_0x4def39(0x165))/0x9)+-parseInt(_0x4def39(0x18b))/0xa+parseInt(_0x4def39(0x177))/0xb;if(_0x51b7a4===_0x34da55)break;else _0x5c2fb8['push'](_0x5c2fb8['shift']());}catch(_0x1dd260){_0x5c2fb8['push'](_0x5c2fb8['shift']());}}}(_0x2664,0x4ca13));import _0x45736c,{prepareWAMessageMedia}from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=_0x45736c;import _0x6e5bbd from'@xaviabot/fb-downloader';function _0x285d(_0x1e8670,_0x4b7d53){const _0x26643b=_0x2664();return _0x285d=function(_0x285d52,_0x54a2fa){_0x285d52=_0x285d52-0x14e;let _0x5775f3=_0x26643b[_0x285d52];return _0x5775f3;},_0x285d(_0x1e8670,_0x4b7d53);}import _0x581ac0 from'../../config.cjs';const fbSearchResultsMap=new Map();let fbSearchIndex=0x1;function _0x2664(){const _0x2713c0=['arrayBuffer','push','¬©\x20·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20…¢ ú·¥èÍú±·¥õ-·¥ç·¥Ö','error','thumbnail','fbData:','NativeFlowMessage','fbmedia_','Header','Please\x20provide\x20a\x20Facebook\x20video\x20URL.','1087120vMWEDM','953397WaiaLT','2yhRYpL','video/mp4','üì•\x20Download\x20','No\x20results\x20found.','toLowerCase','startsWith','*GHOST-MD\x20FACEBOOK\x20POST\x20DOWNLOADING......*\x0a\x0a>\x20*TITLE*:\x20','reply','interactiveResponseMessage','url','relayMessage','create','remoteJid','425880qpmFOp','fbdl','Error\x20processing\x20your\x20request.','paramsJson','set','Error\x20processing\x20your\x20request:','React','includes','body','Resolution:\x20','5025465rYWtGY','6308OfHPul','templateButtonReplyMessage','Message','Video\x20Qualities','Body','key','854721PlcUOb','nativeFlowResponseMessage','InteractiveMessage','slice','stringify','length','165YuLUBJ','waUploadToServer','8criOYu','split','selectedId','1839541zRumZX','from','message','quick_reply','map','>\x20¬©\x20·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20…¢ ú·¥èÍú±·¥õ-·¥ç·¥Ö','get','facebook','resolution','6TSmHsC'];_0x2664=function(){return _0x2713c0;};return _0x2664();}const facebookCommand=async(_0x5cde89,_0x3de50f)=>{const _0xac650c=_0x285d;let _0x5e1d40;const _0x52ec69=_0x5cde89?.[_0xac650c(0x179)]?.[_0xac650c(0x167)]?.[_0xac650c(0x176)],_0x552937=_0x5cde89?.[_0xac650c(0x179)]?.[_0xac650c(0x156)];if(_0x552937){const _0x580789=_0x552937[_0xac650c(0x16d)]?.[_0xac650c(0x15e)];if(_0x580789){const _0x1de494=JSON['parse'](_0x580789);_0x5e1d40=_0x1de494['id'];}}const _0xedbf3c=_0x5e1d40||_0x52ec69,_0x3587b8=_0x581ac0['PREFIX'],_0xfcd8a2=_0x5cde89[_0xac650c(0x163)][_0xac650c(0x153)](_0x3587b8)?_0x5cde89['body'][_0xac650c(0x16f)](_0x3587b8[_0xac650c(0x171)])[_0xac650c(0x175)]('\x20')[0x0][_0xac650c(0x152)]():'',_0x29885f=_0x5cde89['body']['slice'](_0x3587b8[_0xac650c(0x171)]+_0xfcd8a2['length'])['trim'](),_0x31e6a3=[_0xac650c(0x17e),'fb',_0xac650c(0x15c)];if(_0x31e6a3[_0xac650c(0x162)](_0xfcd8a2)){if(!_0x29885f)return _0x5cde89['reply'](_0xac650c(0x18a));try{await _0x5cde89[_0xac650c(0x161)]('üïò');const _0x5604d9=await _0x6e5bbd(_0x29885f);console['log'](_0xac650c(0x186),_0x5604d9);if(!_0x5604d9){await _0x5cde89[_0xac650c(0x155)](_0xac650c(0x151)),await _0x5cde89[_0xac650c(0x161)]('‚ùå');return;}fbSearchResultsMap[_0xac650c(0x15f)](fbSearchIndex,_0x5604d9);const _0xb9d5f=[];_0x5604d9['sd']&&_0xb9d5f[_0xac650c(0x182)]({'resolution':'SD','url':_0x5604d9['sd']});_0x5604d9['hd']&&_0xb9d5f['push']({'resolution':'HD','url':_0x5604d9['hd']});const _0x245098=_0xb9d5f[_0xac650c(0x17b)]((_0x181d12,_0x1270c8)=>({'name':_0xac650c(0x17a),'buttonParamsJson':JSON[_0xac650c(0x170)]({'display_text':_0xac650c(0x150)+_0x181d12[_0xac650c(0x17f)],'id':_0xac650c(0x188)+_0x1270c8+'_'+fbSearchIndex})})),_0x5b67e7=_0xb9d5f['map'](_0x5e7285=>({'title':_0xac650c(0x169),'rows':[{'title':'üì•\x20Download\x20'+_0x5e7285[_0xac650c(0x17f)],'description':_0xac650c(0x164)+_0x5e7285['resolution'],'id':'fbmedia_'+fbSearchIndex+'_'+_0x5e7285[_0xac650c(0x17f)]}]})),_0x590196=generateWAMessageFromContent(_0x5cde89['from'],{'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':proto[_0xac650c(0x168)]['InteractiveMessage'][_0xac650c(0x159)]({'body':proto[_0xac650c(0x168)][_0xac650c(0x16e)][_0xac650c(0x16a)]['create']({'text':_0xac650c(0x154)+_0x5604d9['title']}),'footer':proto[_0xac650c(0x168)][_0xac650c(0x16e)]['Footer'][_0xac650c(0x159)]({'text':_0xac650c(0x183)}),'header':proto[_0xac650c(0x168)]['InteractiveMessage'][_0xac650c(0x189)][_0xac650c(0x159)]({...await prepareWAMessageMedia({'image':{'url':_0x5604d9[_0xac650c(0x185)]}},{'upload':_0x3de50f[_0xac650c(0x173)]}),'title':'','gifPlayback':!![],'subtitle':'','hasMediaAttachment':![]}),'nativeFlowMessage':proto[_0xac650c(0x168)]['InteractiveMessage'][_0xac650c(0x187)][_0xac650c(0x159)]({'buttons':_0x245098}),'contextInfo':{'quotedMessage':_0x5cde89[_0xac650c(0x179)],'mentionedJid':[_0x5cde89['sender']],'forwardingScore':0x270f,'isForwarded':!![]}})}}},{});await _0x3de50f[_0xac650c(0x158)](_0x590196[_0xac650c(0x16b)][_0xac650c(0x15a)],_0x590196['message'],{'messageId':_0x590196[_0xac650c(0x16b)]['id']}),await _0x5cde89['React']('‚úÖ'),fbSearchIndex+=0x1;}catch(_0x1df8f9){console[_0xac650c(0x184)](_0xac650c(0x160),_0x1df8f9),await _0x5cde89[_0xac650c(0x155)]('Error\x20processing\x20your\x20request.'),await _0x5cde89[_0xac650c(0x161)]('‚ùå');}}else{if(_0xedbf3c){if(_0xedbf3c[_0xac650c(0x153)](_0xac650c(0x188))){const _0x484c7e=_0xedbf3c[_0xac650c(0x175)]('_'),_0x1c93e2=parseInt(_0x484c7e[0x1]),_0xdf9368=parseInt(_0x484c7e[0x2]),_0x147480=fbSearchResultsMap[_0xac650c(0x17d)](_0xdf9368);if(_0x147480)try{const _0x3f9a5e=[];_0x147480['sd']&&_0x3f9a5e[_0xac650c(0x182)]({'resolution':'SD','url':_0x147480['sd']});_0x147480['hd']&&_0x3f9a5e['push']({'resolution':'HD','url':_0x147480['hd']});const _0x103a2f=_0x3f9a5e[_0x1c93e2][_0xac650c(0x157)];let _0x12ffcf,_0x3b2d5b,_0x11e67e;_0x12ffcf=await getStreamBuffer(_0x103a2f),_0x3b2d5b=_0xac650c(0x14f);const _0x2d976a=_0x12ffcf[_0xac650c(0x171)]/(0x400*0x400);_0x2d976a<=0x12c?(_0x11e67e={'video':_0x12ffcf,'mimetype':'video/mp4','caption':_0xac650c(0x17c)},await _0x3de50f['sendMessage'](_0x5cde89[_0xac650c(0x178)],_0x11e67e,{'quoted':_0x5cde89})):await _0x5cde89['reply']('The\x20video\x20file\x20size\x20exceeds\x20300MB.');}catch(_0x1b463a){console[_0xac650c(0x184)](_0xac650c(0x160),_0x1b463a),await _0x5cde89['reply'](_0xac650c(0x15d)),await _0x5cde89[_0xac650c(0x161)]('‚ùå');}}}}},getStreamBuffer=async _0x5373cd=>{const _0xd93f47=_0x285d,_0xb95c5f=await fetch(_0x5373cd),_0xe8c27a=await _0xb95c5f[_0xd93f47(0x181)]();return Buffer[_0xd93f47(0x178)](_0xe8c27a);};export default facebookCommand;
