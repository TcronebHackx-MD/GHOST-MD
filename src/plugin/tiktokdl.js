(function(_0xc21ca1,_0x1e0636){const _0x48f624=_0x3e0e,_0x13025a=_0xc21ca1();while(!![]){try{const _0x29f5b9=-parseInt(_0x48f624(0x9b))/0x1*(parseInt(_0x48f624(0x95))/0x2)+parseInt(_0x48f624(0xa9))/0x3*(-parseInt(_0x48f624(0x8f))/0x4)+parseInt(_0x48f624(0xb4))/0x5+-parseInt(_0x48f624(0xba))/0x6+parseInt(_0x48f624(0xc9))/0x7+parseInt(_0x48f624(0x89))/0x8+-parseInt(_0x48f624(0xc4))/0x9;if(_0x29f5b9===_0x1e0636)break;else _0x13025a['push'](_0x13025a['shift']());}catch(_0x3fa021){_0x13025a['push'](_0x13025a['shift']());}}}(_0x34e8,0xbf091));import _0x4bdee8,{prepareWAMessageMedia}from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=_0x4bdee8;function _0x3e0e(_0x5310b7,_0x508d3f){const _0x34e817=_0x34e8();return _0x3e0e=function(_0x3e0ecc,_0x11fc2f){_0x3e0ecc=_0x3e0ecc-0x89;let _0x133453=_0x34e817[_0x3e0ecc];return _0x133453;},_0x3e0e(_0x5310b7,_0x508d3f);}import _0x429516 from'nayan-media-downloader';function _0x34e8(){const _0x136037=['nickname','quick_reply','Header','message','stringify','1589301IxnaxS','https://files.catbox.moe/hqvp3k.jpg','InteractiveMessage','Error\x20processing\x20your\x20request:','reply','6691006gUGIGF','3326976yRWmin','video','duration','waUploadToServer','create','tiktok','24940aIxdLb','split','\x0aAuthor:\x20','ttmedia_video_','PREFIX','Error\x20processing\x20your\x20request.','21706hBPmBo','selectedId','from','paramsJson','startsWith','üé¶\x20Video','1QCKFOt','key','üéµ\x20Audio','Message','arrayBuffer','audio/mpeg','length','interactiveResponseMessage','body','templateButtonReplyMessage','Please\x20provide\x20a\x20TikTok\x20URL.','data','includes','set','543ZwZAfk','view','audio','Body','error','NativeFlowMessage','React','trim','No\x20results\x20found.','\x0aViews:\x20','>\x20¬©\x20·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20…¢ ú·¥èÍú±·¥õ-·¥ç·¥Ö','3996720lQBrVp','Footer','relayMessage','remoteJid','video/mp4','ttdl','435696eWjmOA','author','ttmedia_audio_','status','slice'];_0x34e8=function(){return _0x136037;};return _0x34e8();}const {tikdown}=_0x429516;import _0x7f06c5 from'../../config.cjs';const searchResultsMap=new Map();let searchIndex=0x1;const tiktokCommand=async(_0x220191,_0x4bd5dd)=>{const _0x1137a8=_0x3e0e;let _0x1fc5fa;const _0x5a4c13=_0x220191?.[_0x1137a8(0xc2)]?.[_0x1137a8(0xa4)]?.[_0x1137a8(0x96)],_0x21a188=_0x220191?.['message']?.[_0x1137a8(0xa2)];if(_0x21a188){const _0x348f3f=_0x21a188['nativeFlowResponseMessage']?.[_0x1137a8(0x98)];if(_0x348f3f){const _0x464f07=JSON['parse'](_0x348f3f);_0x1fc5fa=_0x464f07['id'];}}const _0x571fe9=_0x1fc5fa||_0x5a4c13,_0x2c24fe=_0x7f06c5[_0x1137a8(0x93)],_0x11a24a=_0x220191['body'][_0x1137a8(0x99)](_0x2c24fe)?_0x220191[_0x1137a8(0xa3)][_0x1137a8(0xbe)](_0x2c24fe[_0x1137a8(0xa1)])[_0x1137a8(0x90)]('\x20')[0x0]['toLowerCase']():'',_0x5af08a=_0x220191[_0x1137a8(0xa3)][_0x1137a8(0xbe)](_0x2c24fe['length']+_0x11a24a['length'])[_0x1137a8(0xb0)](),_0x5bfa87=[_0x1137a8(0x8e),'tt',_0x1137a8(0xb9)];if(_0x5bfa87[_0x1137a8(0xa7)](_0x11a24a)){if(!_0x5af08a)return _0x220191[_0x1137a8(0xc8)](_0x1137a8(0xa5));try{await _0x220191[_0x1137a8(0xaf)]('üïò');const _0x54f41c=await tikdown(_0x5af08a);if(!_0x54f41c[_0x1137a8(0xbd)]){await _0x220191[_0x1137a8(0xc8)](_0x1137a8(0xb1)),await _0x220191['React']('‚ùå');return;}searchResultsMap[_0x1137a8(0xa8)](searchIndex,_0x54f41c);const _0x286b3c=searchResultsMap['get'](searchIndex),_0x5a0134=[{'name':_0x1137a8(0xc0),'buttonParamsJson':JSON[_0x1137a8(0xc3)]({'display_text':_0x1137a8(0x9a),'id':_0x1137a8(0x92)+searchIndex})},{'name':'quick_reply','buttonParamsJson':JSON[_0x1137a8(0xc3)]({'display_text':_0x1137a8(0x9d),'id':_0x1137a8(0xbc)+searchIndex})}],_0x16c51d=generateWAMessageFromContent(_0x220191[_0x1137a8(0x97)],{'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':proto[_0x1137a8(0x9e)][_0x1137a8(0xc6)][_0x1137a8(0x8d)]({'body':proto[_0x1137a8(0x9e)][_0x1137a8(0xc6)][_0x1137a8(0xac)][_0x1137a8(0x8d)]({'text':'GHOST-MD\x20TikTok\x20DOWNLOING\x0a\x0aTitle:\x20'+_0x286b3c[_0x1137a8(0xa6)]['title']+_0x1137a8(0x91)+_0x286b3c[_0x1137a8(0xa6)][_0x1137a8(0xbb)][_0x1137a8(0xbf)]+_0x1137a8(0xb2)+_0x286b3c['data'][_0x1137a8(0xaa)]+'\x0aDuration:\x20'+_0x286b3c[_0x1137a8(0xa6)][_0x1137a8(0x8b)]+'s\x0a'}),'footer':proto[_0x1137a8(0x9e)]['InteractiveMessage'][_0x1137a8(0xb5)][_0x1137a8(0x8d)]({'text':'¬©\x20·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20…¢ ú·¥èÍú±·¥õ-·¥ç·¥Ö'}),'header':proto[_0x1137a8(0x9e)][_0x1137a8(0xc6)][_0x1137a8(0xc1)][_0x1137a8(0x8d)]({...await prepareWAMessageMedia({'image':{'url':_0x1137a8(0xc5)}},{'upload':_0x4bd5dd[_0x1137a8(0x8c)]}),'title':'','gifPlayback':!![],'subtitle':'','hasMediaAttachment':![]}),'nativeFlowMessage':proto['Message'][_0x1137a8(0xc6)][_0x1137a8(0xae)][_0x1137a8(0x8d)]({'buttons':_0x5a0134}),'contextInfo':{'quotedMessage':_0x220191[_0x1137a8(0xc2)],'mentionedJid':[_0x220191['sender']],'forwardingScore':0x270f,'isForwarded':!![]}})}}},{});await _0x4bd5dd[_0x1137a8(0xb6)](_0x16c51d[_0x1137a8(0x9c)][_0x1137a8(0xb7)],_0x16c51d['message'],{'messageId':_0x16c51d['key']['id']}),await _0x220191[_0x1137a8(0xaf)]('‚úÖ'),searchIndex+=0x1;}catch(_0xd8b4b){console['error']('Error\x20processing\x20your\x20request:',_0xd8b4b),await _0x220191['reply'](_0x1137a8(0x94)),await _0x220191[_0x1137a8(0xaf)]('‚ùå');}}else{if(_0x571fe9){if(_0x571fe9[_0x1137a8(0x99)]('ttmedia_')){const _0x393ed3=_0x571fe9[_0x1137a8(0x90)]('_'),_0x280bb6=_0x393ed3[0x1],_0x2f0d66=parseInt(_0x393ed3[0x2]),_0x14fdb8=searchResultsMap['get'](_0x2f0d66);if(_0x14fdb8)try{const _0x4d71cd=_0x14fdb8[_0x1137a8(0xa6)][_0x1137a8(0x8a)],_0x6925af=_0x14fdb8[_0x1137a8(0xa6)][_0x1137a8(0xab)];let _0x1754e5,_0x5e61b1,_0xe25591;if(_0x280bb6===_0x1137a8(0x8a))_0x1754e5=await getStreamBuffer(_0x4d71cd),_0x5e61b1='video/mp4';else _0x280bb6==='audio'&&(_0x1754e5=await getStreamBuffer(_0x6925af),_0x5e61b1=_0x1137a8(0xa0));const _0xc8b6c1=_0x1754e5[_0x1137a8(0xa1)]/(0x400*0x400);if(_0x280bb6===_0x1137a8(0x8a)&&_0xc8b6c1<=0x12c)_0xe25591={'video':_0x1754e5,'mimetype':_0x1137a8(0xb8),'caption':_0x1137a8(0xb3)};else _0x280bb6===_0x1137a8(0xab)&&_0xc8b6c1<=0x12c&&(_0xe25591={'audio':_0x1754e5,'mimetype':_0x1137a8(0xa0),'caption':_0x1137a8(0xb3)});await _0x4bd5dd['sendMessage'](_0x220191[_0x1137a8(0x97)],_0xe25591,{'quoted':_0x220191});}catch(_0x5f5095){console[_0x1137a8(0xad)](_0x1137a8(0xc7),_0x5f5095),await _0x220191['reply'](_0x1137a8(0x94)),await _0x220191['React']('‚ùå');}}}}},getStreamBuffer=async _0x5c59f5=>{const _0x9cab85=_0x3e0e,_0x154dde=await fetch(_0x5c59f5),_0x19a7db=await _0x154dde[_0x9cab85(0x9f)]();return Buffer[_0x9cab85(0x97)](_0x19a7db);};export default tiktokCommand;
